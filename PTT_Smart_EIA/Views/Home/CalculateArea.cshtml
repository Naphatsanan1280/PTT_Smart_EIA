
@{
    ViewBag.Title = "CalculateArea";
}

    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="~/Scripts/jquery-3.3.1.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDd33TLAVehao--qEJ9u7j7ZNSjN1315C0&callback=initMap"
                async defer></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        
        <style>
            html, body {
                    margin: 0;
                    height: 100%;
                     font-family: "ThaiSans Neue", Times, serif;
                }

            body {
                font-family: DBSathornMedium;
                font-size: 18px;
            }

            .page-header {
                font-size: 25px;
                width: 100%;
               height: 100px;
                background-color: rgba(112, 112, 112,1); 
                line-height: 90px;
                text-align: center;
                position:fixed;
            }
            #homelabe{
                 color:white;
            }

            .logo {
                padding: 5px;
                float: left;
                width: 50%;
                height: 100%;
                text-align: center;
                vertical-align: middle;
                line-height: 90px;
            }

            .menu {
                float: right;
                width: 50%;
                height: 70%;
                text-align: center;
                vertical-align: middle;
                line-height: 90px;
                display: flex;
            }

            #home {
                width: 20%;
                color: white;
                float:right;
            }

            .map {
               background-color:#fff;
                width:50%;
                padding:5px;
                height:100%;
                float:left; 
                    }

            .specify {
            padding:10px;
            border:solid 1px;
            border-radius:10px;
            background-color:white;
            width:25%;
            height:100%;
            float:right;
                    }

            #map {
                width: 100%;
              height:100%;
            }

            label, textarea {
                width: 100%;
            }

            textarea {
                padding: 10px;
            }

            select {
                width: 100%;
            }

            #hrr {
                display: block;
                margin-top: 0.5px;
                margin-bottom: 0.5px;
                margin-left: auto;
                margin-right: auto;
                border-style: inset;
                border-width: 0.9px;
                background-color: black;
            }

            .area1, .area2, #resulte,#costomtest,#kmztest,#areatest,.area22,.area11 {
                display: none;
            }

            #selectpanel {
                width: 100%;
                text-align: center;
                vertical-align: middle;
                display: flex;
                padding-left: 15px;
                padding-right: 15px;
            }

            #test {
               background-color:white;
            border:solid 1px;
            border-radius:10px;
             width:25%;
                height:100%;
                float:left;   
                padding:10px;
             }

            #btnshowhide {
                height: 10%;
            }
            #aa,#ab,#ac,#ad{
                border:solid 1px;
              padding:5px;
            }
            #areatest,#costomtest,#kmztest{
                width:auto;
                background-color:azure;

            }
            .toppic{
                font-size: 40px;
                width: 100%;
               height: 100px;
                line-height: 90px;
                text-align: center;
                color:white;
                padding:10px;
            }
           #contrian{
                width: 100%;
               height: 700px;
               padding:10px;
           }
        </style>

    </head>

    <body>
       <div class="page-header">
        <div class="logo">
            <img style="width:196px; height:81px; float:left;" src="~/Image/Logo/logo ptt-01.png" />
        </div>

            <div id="home">
                <a id="homelabe" href="/Home/Homepage"> <label> หน้าแรก</label> </a>
            </div>

    </div> 
       
        <div class="toppic"> </div>
        <div class="toppic">
            <div class="logo" style="width:10%; height:100px; float:left;">
                <img style="width:100px; height:100px; " src="~/Image/icon/icon-02.jpg" />
            </div>
            <label style="width:90%; float:right; text-align:left; padding:5px; background-color:#22A7E0;"> โครงการระบบขนส่งปิโตรเลียมและน้ำมันเชื้อเพลิงทางท่อ </label>
        </div>
        <div id="contrian">
            <div id="test" class="container sidebar sidebar-left">
                <h4>1.ระบุที่ตั้งโครงการ</h4>
                <div class="user">
                    <div id="aa">พิกัดที่ตั้ง </div>
                    <div id="areatest">
                        <label>ระบุพิกัด UTM WGS 84</label>
                        <label>
                            Zone:
                            <select>
                                <option>47</option>
                                <option>48</option>
                            </select>
                        </label>
                        <hr />
                        <label>
                            East:
                            <input type="text" />
                        </label>
                        <label>
                            North:
                            <input type="text" />
                        </label>
                        <button>ตกลง</button>
                    </div>
                    <div id="ab">กำหนดเอง</div>
                    <div id="costomtest">
                        <button>add placemark</button>
                        <button>draw line or shape</button>
                        <div style="width:100px; height:50px; border:solid 1px;"></div>
                    </div>
                    <div id="ac">
                        ตำแหน่งจากข้อมูล KMZ ไฟล์
                    </div>
                    <div id="kmztest">
                        <button>import file</button>
                        <button>clear</button>
                        <div style="width:100px; height:50px; border:solid 1px;"></div>
                    </div>
                    <div id="ad">ไม่ระบุที่ตั้งโครงการ</div>
                </div>
                <div class="navbar-toggle">

                </div>
            </div>
            <div class="map">
                <div id="map"></div>
            </div>
            <div class="specify">
                <div id="SpecifyType">
                    <div id="s1">
                        <h4>2.ระบุรายละเอียดโครงการ</h4>
                        <div id="type">
                            <label>ประเภทปิโตรเลียม</label>
                            <select id="types">
                                <option value="none" selected>--เลือกประเภทปิโตรเลียม--</option>
                                <option value="ng">ก๊าซธรรมชาติ (NG)</option>
                                <option value="ngl">ก๊าซธรรมชาติเหลว (NGL)</option>
                                <option value="lpg">ก๊าซปิโตรเลียมเหลว (LPG)</option>
                                <option value="oil">น้ำมันเชื้อเพลิง (FO)</option>
                                <option value="hydrocarbon">ปิโตรเลียมอื่นๆ</option>
                            </select>
                        </div>
                        <div class="ng GasSystem">
                            <label>ระบบท่อส่งก๊าซฯ</label>
                            <select id="pipeSystem">
                                <option value="none" selected>--เลือกพื้นที่วางท่อ-</option>
                                <option value="ground">บนบก</option>
                                <option value="water">ในทะเล</option>
                            </select>
                        </div>
                        <div class="ground status">
                            <label>สถานะ</label>
                            <select id="statuss">
                                <option value="none" selected>--เลือกสถานะ--</option>
                                <option value="gas">ไอก๊าซ</option>
                                <option value="liquid">ของเหลว</option>
                            </select>
                        </div>

                        <div class="gas pressure">
                            <hr />
                            <label>
                                ความดันใช้งานสูงสุด(Maximum Opereting Pressure:MOP)
                                <select id="pressuress">
                                    <option value="none" selected>--เลือกความดัน--</option>
                                    <option value="1"><= 20 บาร์</option>
                                    <option value="2">> 20 บาร์</option>
                                </select>
                            </label>
                            <label>
                                ขนาดท่อ
                                <select id="size">
                                    <option value="" selected>--เลือกขนาดท่อ--</option>
                                    <option value="1"><= 16 นิ้ว</option>
                                    <option value="2">> 16 นิ้ว</option>
                                </select>
                            </label>
                            <br />
                        </div>
                        <div id="btn">

                            <label style="text-align:center;">    <button class="btn btn-primary" id="Btntypeok" onclick="getresulte()"> ตกลง </button></label><br />
                        </div>
                    </div>
                    <div id="s2">
                        <div id="area1" class="area1">
                            <hr />
                            <label>
                                พื้นที่
                                (จากการตรวจสอบด้วยฐานข้อมูล GIS)
                            </label>
                            <select id="selectarea1">
                                <option value="none" selected>--เลือกเขตพื้นที่--</option>
                                <option value="in">แนวท่อทั้งหมดอยู่ในเขตนิคนอุตสาหกรรม</option>
                                <option value="out">แนวท่อทั้งหมดอยู่นอกเขตนิคนอุตสาหกรรม</option>
                            </select>
                            <label style="text-align:center;">  <button class="btn btn-primary" id="BtnProcess" onclick="resulte2()"> ตกลง </button></label><br />
                        </div>
                        <div id="area11" class="area11">
                            <hr />
                            <label>
                                พื้นที่
                                (จากการตรวจสอบด้วยฐานข้อมูล GIS)
                            </label>
                            <select id="selectarea11">
                                <option value="none" selected>--เลือกเขตพื้นที่--</option>
                                <option value="in">แนวท่อทั้งหมดอยู่ในเขตนิคนอุตสาหกรรม</option>
                                <option value="out">แนวท่อทั้งหมดอยู่นอกเขตนิคนอุตสาหกรรม</option>
                            </select>
                            <label style="text-align:center;">    <button class="btn btn-primary" id="BtnProcess1" onclick="calldiv()"> ตกลง </button></label><br />
                        </div>
                        <div id="area2" class="in area2">
                            <hr />
                            <label>
                                พื้นที่
                            </label>
                            <select id="selectarea2">
                                <option value="none" selected>--เลือกเขตพื้นที่ลุ่มน้ำ--</option>
                                <option value="y">ตั้งอยู่ในพื้นที่ชั้นคุณภาพลุ่มน้ำ ชั้น 1</option>
                                <option value="n">ไม่ตั้งอยู่ในพื้นที่ชั้นคุณภาพลุ่มน้ำ ชั้น 1</option>
                            </select>
                            <label style="text-align:center;">   <button class="btn btn-primary" id="BtnProcess2" onclick="resulte()"> ตกลง </button></label><br />
                        </div>
                        <div id="area22" class="area22">
                            <hr />
                            <label>
                                พื้นที่
                            </label>
                            <select id="selectarea2">
                                <option value="none" selected>--เลือกเขตพื้นที่ลุ่มน้ำ--</option>
                                <option value="y">ตั้งอยู่ในพื้นที่ชั้นคุณภาพลุ่มน้ำ ชั้น 1</option>
                                <option value="n">ไม่ตั้งอยู่ในพื้นที่ชั้นคุณภาพลุ่มน้ำ ชั้น 1</option>
                            </select>
                            <label style="text-align:center;">  <button class="btn btn-primary" id="BtnProcess" onclick="resulte2()"> ตกลง </button></label><br />
                        </div>
                    </div>
                </div>
                <div id="resulte">
                    <label style="text-align:center;">  <button class="btn btn-primary" onclick="back()"> ^ ย่้อนกลับ </button></label><br />
                    <hr />
                    <label style="width:100%; text-align:left;"><u>สรุปผล</u></label><br />
                    <label>โครงการ กิจการ หรือการดาเนินการ <u style="color:red;">เข้าข่าย</u> ต้องจัดทารายงานด้านสิ่งแวดล้อมตามกฎหมาย ดังนี้</label>
                    <label><u>ประเภท</u> </label>
                    <textarea id="typeresulte" rows="2">--</textarea>
                    <label><u>เสนอต่อ</u> </label>
                    <label>
                        <img style="width:20%; height:50px; float:left;" src="~/Image/picture.png" />
                        <textarea id="toresulte" rows="3" style="width:80%;">  </textarea>
                    </label>
                    <label><u>ตามกฎหมาย </u></label>
                    <textarea id="rawresulte" rows="4">  </textarea>

                </div>
            </div>
        </div>

        <script>
            var map;
            var mapcode;
            var latlng = { lat: 13.7651624, lng: 100.893642 }
            var infowindow;
            var markerarray = [];
            var polyline = null;
            function initMap() {
                map = new google.maps.Map(
                    document.getElementById('map'), {
                    center: latlng,
                    zoom: 6,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                });
            }
            function showdiv() {
                $(".slidediv").show();
            }
            function hidediv() {
                $(".slidediv").hide();
            }
            $(document).ready(function () {
                $("#types").change(function () {
                    $(this).find("option:selected").each(function () {
                        var optionValue = $(this).attr("value");
                        if (optionValue) {
                            $(".GasSystem").not("." + optionValue).hide();
                            $("." + optionValue).show();
                            $(".pressure").not("." + optionValue).hide();
                            $(".area").not("." + optionValue).hide();
                            $(".status").hide();
                            $("#area1").hide();
                            $("#area2").hide();
                        } else {
                            $(".GasSystem").hide();
                        }
                    });
                }).change();
            });
            $(document).ready(function () {
                $(".GasSystem").change(function () {
                    $(this).find("option:selected").each(function () {
                        var optionValue = $(this).attr("value");
                        if (optionValue) {
                            $(".status").not("." + optionValue).hide();
                            $("." + optionValue).show();
                            $(".pressure").not("." + optionValue).hide();
                            $(".area").not("." + optionValue).hide();
                            $("#area1").hide();
                            $("#area2").hide();
                        } else {
                            $(".status").hide();
                        }
                    });
                }).change();
            });
            $(document).ready(function () {
                $(".status").change(function () {
                    $(this).find("option:selected").each(function () {
                        var optionValue = $(this).attr("value");
                        if (optionValue) {
                            $(".pressure").not("." + optionValue).hide();
                            $("." + optionValue).show();
                            $("#area1").hide();
                            $("#area2").hide();
                        } else {
                            $(".pressure").hide();
                        }
                    });
                }).change();
            });

            function back() {
                var x = document.getElementById("SpecifyType");
                var y = document.getElementById("resulte");
                if (x.style.display == "block") {
                    y.style.display = "none";
                    x.style.display = "none";
                } else {
                    x.style.display = "block";
                    y.style.display = "none";
                }
            }

            function getresulte() {

                var type = $('#types').find(":selected").val();

                var pipelocation = $('#pipeSystem').find(":selected").val();

                var status = $('#statuss').find(":selected").val();

                var pressure = $('#pressuress').find(":selected").val();

                var pipesize = $('#size').find(":selected").val();

                var x = document.getElementById("resulte");

                var y = document.getElementById("SpecifyType");

                var z1 = document.getElementById("area1");
                var z11 = document.getElementById("area11");

                var z2 = document.getElementById("area2");

                var z22 = document.getElementById("area22");

                var b2 = document.getElementById("BtnProcess");
                var b1 = document.getElementById("BtnProcess1");
                if (type == "ng") {
                    if (type == "ng" && pipelocation == "water") {
                        x.style.display = "block";
                        y.style.display = "none";
                        document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                        document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                        document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำEIA  (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                    }
                    else if (type == "ng" && status == "liquid") {
                        x.style.display = "block";
                        y.style.display = "none";
                        document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                        document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                        document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำEIA (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                    } else {
                        if (pressure == 1 && pipesize == 1) {
                            z2.style.display = "block";
                            z1.style.display = "none";
                            z22.style.display = "none";
                            z11.style.display = "none";
                        }
                        else if (pressure == 1 && pipesize == 2) {
                            z2.style.display = "none";
                            z1.style.display = "none";
                            z11.style.display = "block";
                            z22.style.display = "none";
                        }
                        else if (pressure == 2 && pipesize == 1) {
                            z2.style.display = "none";
                            z1.style.display = "none";
                            z11.style.display = "block";
                            z22.style.display = "none";

                        }
                        else if (pressure == 2 && pipesize == 2) {
                            z2.style.display = "none";
                            z1.style.display = "none";
                            z11.style.display = "block";
                            z22.style.display = "none";

                        }
                    }

                }
                else {
                    x.style.display = "block";
                    y.style.display = "none";
                    document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                    document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                    document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำEIA (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                }
            }

            function resulte() {
                var area2 = $('#selectarea2').find(":selected").val();

                var area1 = $('#selectarea1').find(":selected").val();

                var x = document.getElementById("resulte");

                var y = document.getElementById("SpecifyType");

                var z1 = document.getElementById("area1");

                var z2 = document.getElementById("area2");

                if (area2 == 'y') {
                    x.style.display = "block";
                    y.style.display = "none";
                    document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                    document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                    document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำEIA  (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                }
                else if (area2 == 'n') {
                    x.style.display = "block";
                    y.style.display = "none";
                    document.getElementById('typeresulte').innerHTML = "รายงานด้านสิ่งแวดล้อม (ER)";
                    document.getElementById('toresulte').innerHTML = "กรมธุรกิจพลังงาน (ธพ.)";
                    document.getElementById('rawresulte').innerHTML = "- ประกาศกระทรวงพลังงาน เรื่อง การกำหนดประเภท และขนาดของกระบวนการขนส่งก๊าซธรรมชาติทางท่ิและหลักเกณฑ์ วิธีการฯ จัดทำ ER  http:// www.xxxx.co.th /DATA/PDF/2562/E/003/t_001.pdf" +
                        "- ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำEIA (ลำดับที่ 4) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF";
                }
            }
            function resulte2() {

                var area2 = $('#selectarea2').find(":selected").val();

                var area1 = $('#selectarea1').find(":selected").val();

                var x = document.getElementById("resulte");

                var y = document.getElementById("SpecifyType");

                var z1 = document.getElementById("area1");

                var z2 = document.getElementById("area2");

                if (area1 == 'in' && area2 == "y") {
                    x.style.display = "block";
                    y.style.display = "none";
                    document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                    document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                    document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำ EIA (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                }
                else if (area1 == 'in' && area2 == "n") {
                    x.style.display = "block";
                    y.style.display = "none";
                    document.getElementById('typeresulte').innerHTML = "รายงานด้านสิ่งแวดล้อม (ER)";
                    document.getElementById('toresulte').innerHTML = "กรมธุรกิจพลังงาน (ธพ.)";
                    document.getElementById('rawresulte').innerHTML = "- ประกาศกระทรวงพลังงาน เรื่อง การกำหนดประเภท และขนาดของกระบวนการขนส่งก๊าซธรรมชาติทางท่ิและหลักเกณฑ์ วิธีการฯ จัดทำ ER  http:// www.xxxx.co.th /DATA/PDF/2562/E/003/t_001.pdf " +
                        " - ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำEIA (ลำดับที่ 4) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF";

                }

                else {
                    x.style.display = "block";
                    y.style.display = "none";
                    document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                    document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                    document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำ EIA (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                }

            }
            function calldiv() {
                var area2 = $('#selectarea2').find(":selected").val();

                var area1 = $('#selectarea11').find(":selected").val();

                var x = document.getElementById("resulte");

                var y = document.getElementById("SpecifyType");

                var z1 = document.getElementById("area1");

                var z2 = document.getElementById("area2");

                if (area1 == 'in') {
                    z2.style.display = "block";
                }
                else if (area1 == 'out') {

                    z2.style.display = "none";
                    x.style.display = "block";
                    y.style.display = "none";

                    document.getElementById('typeresulte').innerHTML = "รายงานการประเมินผลกระทบสิ่งแวดล้อม (EIA)";
                    document.getElementById('toresulte').innerHTML = "สำนักงานนโยบายและแผนทรัพยากรธรรมชาติและสิ่งแวดล้อม (สผ.)";
                    document.getElementById('rawresulte').innerHTML = "ประกาศกระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม เรื่อง กำหนดโครงการ กิจการหรือการดำเนินการ ซึ่งต้องจัดทำ EIA (ลำดับที่ 27) http:// www.xxxx.co.th /DATA/PDF/2562/E/003?T_0001.PDF ";

                }
            }
            $(document).ready(function () {
                $("#aa").click(function () {
                    $('#areatest').slideDown(100);
                    $('#costomtest').slideUp(100);
                    $('#kmztest').slideUp(100);
                });

                $("#ab").click(function () {
                    $('#costomtest').slideDown(100);
                    $('#areatest').slideUp(100);
                    $('#kmztest').slideUp(100);
                });

                $("#ac").click(function () {
                    $('#kmztest').slideDown(100);

                    $('#costomtest').slideUp(100);
                    $('#areatest').slideUp(100);
                });

                $("#ad").click(function () {
                    $('#kmztest').slideUp(100);
                    $('#costomtest').slideUp(100);
                    $('#areatest').slideUp(100);
                });


            });


        </script>
    </body>
